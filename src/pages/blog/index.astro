---
import { getCollection } from 'astro:content';
import MainLayout from '../../layouts/MainLayout.astro';
import BlogListTitle from '../../components/blog/BlogListTitle.astro';

const posts = await getCollection('blog');
---

<html lang='en'>
  <head>
    <meta charset='utf-8' />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />
    <meta name='viewport' content='width=device-width' />
    <meta name='generator' content={Astro.generator} />
    <title>Ronen Lapushner - Blog</title>
  </head>

  <MainLayout>
    <div class='mt-16 flex flex-col space-y-4'>
      {
        posts
          .sort((a, b) => {
            if (a.data.publishedAt.getTime() > b.data.publishedAt.getTime()) {
              return -1;
            }

            if (a.data.publishedAt.getTime() < b.data.publishedAt.getTime()) {
              return 1;
            }

            return 0;
          })
          .map((item) => <BlogListTitle title={item.data.title} link={item.data.name} />)
      }
    </div>
  </MainLayout>


</html>
